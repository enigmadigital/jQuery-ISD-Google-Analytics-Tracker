/*
* Izilla Search and Display jQuery Google Analytics Tracker v1.2.2
* Allows cross domain, file and external link tracking
*
* Copyright (c) 2013 Izilla Partners Pty Ltd
*
* http://www.izilla.com.au
* http://www.searchanddisplay.com.au
*
* Licensed under the MIT license
*/
;(function(a){a.fn.isdAnalyticsTracker=function(c){var x=a.extend({trackCrossDomain:false,domains:"",trackAlternatePropertyIDs:false,alternatePropertyIDs:["isd2"],trackFiles:true,trackFilesAsEvent:false,appendFiles:true,defaultFiles:[".csv",".doc",".pdf",".ppt",".rar",".rtf",".txt",".xls",".zip"],files:"",eventCategory:"External",delay:200},c);var q=window.location.host,p=x.domains,p=[].concat(p),w=x.alternatePropertyIDs.toString().replace(/\s/g,""),w=w.split(","),j=x.appendFiles?x.defaultFiles.concat(x.files):x.files,z=false,m=x.trackFilesAsEvent,y=parseInt(x.delay),g='[href*="',f='"]',k=g+q+f,e,b,r,d,v="href",s=x.eventCategory.toString().length>0?x.eventCategory.toString():"External",h="Click",u="target",o="_trackEvent",n="_trackPageview";var l=function(A){var i=A.toString().replace(/\s*/g,"").replace(/^(.{1})/,g+"$1").replace(/,/g,f+","+g).replace(/(.{1})$/,"$1"+f);return i};if(!"WebkitAppearance" in document.documentElement.style){y=0}if(x.trackCrossDomain&&p.length>0){for(var t=0;t<p.length;t++){e=new RegExp(p[t],"g");if(e.test(q)){break}}p.splice(t,1);p=l(p);b=this.filter(p).not(k).each(function(){a(this).click(function(){_gaq.push(["_link",this.href]);return false})})}if(x.trackFiles&&j.length>0){j=l(j);z=true}r=this.filter('[href^="http"]').not(k).not(b);if(z&&m){r=r.add(j).filter(this)}r.each(function(){a(this).on("click",function(){var A=this.href;_gaq.push([o,s,h,A]);if(x.trackAlternatePropertyIDs&&w.length>0){for(var B=0;B<w.length;B++){_gaq.push([""+w[B]+"."+o,s,h,A])}}if(y>0){var C=a(this);if(!C.attr(u)||C.attr(u).toLowerCase()!="_blank"){setTimeout(function(){window.location.href=A},y);return false}}})});var d=this.not(b).not(r).not(k).not('[href^="/"]').not('[href^="../"]');if(z&&!m){d=d.add(j).filter(this)}d.each(function(){a(this).on("click",function(){var A=this.href;_gaq.push([n,A]);if(x.trackAlternatePropertyIDs&&w.length>0){for(var B=0;B<w.length;B++){_gaq.push([""+w[B]+"."+n,A])}}if(y>0){setTimeout(function(){window.location.href=A},y);return false}})});return this}})(jQuery);